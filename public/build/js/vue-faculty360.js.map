{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///./resources/assets/js/vue-constructors/faculty360/create-request.js","webpack:///./resources/assets/js/vue-components/SelectTwo.vue","webpack:///SelectTwo.vue","webpack:///./resources/assets/js/vue-components/SelectTwo.vue?6f20"],"names":["createRequest","el","propsData","props","user","type","Object","required","faculty","Array","data","facultyId","email","emailError","computed","emailIsValid","endsWith","formIsValid","sortedFaculty","slice","sort","sortPropIgnoreCase","methods","validateEmail","handleSubmit","fetch","method","headers","getFetchHeaders","credentials","body","JSON","stringify","faculty_id","then","response","ok","json","status","Error","catch","console","error","err","alerts","push","errorToAlert","components","SelectTwo"],"mappings":"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","file":"vue-faculty360.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","import Vue from 'vue';\n\nimport SelectTwo from 'vue-components/SelectTwo.vue';\n\nimport {\n\tgetFetchHeaders,\n\tsortPropIgnoreCase,\n\terrorToAlert\n} from 'modules/utils.js';\n\nexport default function createRequest(el, propsData) {\n\treturn new Vue({\n\t\tel,\n\t\tprops: {\n\t\t\tuser: {\n\t\t\t\ttype: Object,\n\t\t\t\trequired: false\n\t\t\t},\n\t\t\tfaculty: {\n\t\t\t\ttype: Array,\n\t\t\t\trequired: true\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tfacultyId: null,\n\t\t\t\temail: null,\n\t\t\t\t\n\t\t\t\temailError: null\n\t\t\t};\n\t\t},\n\t\tpropsData,\n\t\t\n\t\tcomputed: {\n\t\t\temailIsValid() {\n\t\t\t\treturn (this.email && this.email.endsWith('@mcw.edu'));\n\t\t\t},\n\t\t\tformIsValid() {\n\t\t\t\treturn (this.facultyId && this.emailIsValid);\n\t\t\t},\n\t\t\tsortedFaculty() {\n\t\t\t\tlet faculty = this.faculty.slice();\n\t\t\t\tfaculty.sort(sortPropIgnoreCase('full_name'));\n\t\t\t\t\n\t\t\t\treturn faculty;\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\tvalidateEmail() {\n\t\t\t\tif (!this.email || this.emailIsValid)\n\t\t\t\t\tthis.emailError = null;\n\t\t\t\t\n\t\t\t\tthis.emailError = 'Please enter your mcw.edu email address';\n\t\t\t},\n\t\t\thandleSubmit() {\n\t\t\t\tfetch('/faculty360', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: getFetchHeaders(),\n\t\t\t\t\tcredentials: 'same-origin',\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tfaculty_id: this.facultyId,\n\t\t\t\t\t\temail: this.email\n\t\t\t\t\t})\n\t\t\t\t}).then(response => {\n\t\t\t\t\tif (response.ok)\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t\t\n\t\t\t\t\tif (response.status === 403)\n\t\t\t\t\t\tthrow new Error(\"You're not currently elligible to evaluate faculty\");\n\t\t\t\t\t\n\t\t\t\t\tif (response.status === 400)\n\t\t\t\t\t\tthrow new Error('Please select a faculty member to evaluate and enter your email address');\n\t\t\t\t\t\n\t\t\t\t\tthrow new Error('There was a problem creating the evaluation');\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t\tthis.alerts.push(errorToAlert(err));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomponents: {\n\t\t\tSelectTwo\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-constructors/faculty360/create-request.js","var disposed = false\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectTwo.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2434126b\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectTwo.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"/home/mischka/projects/residentprogram/resources/assets/js/vue-components/SelectTwo.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] SelectTwo.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2434126b\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-2434126b\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/vue-components/SelectTwo.vue\n// module id = 15\n// module chunks = 2 4 6 7 10","<template>\n\t<select :name=\"name\" :id=\"id\" :required=\"required\" v-bind:multiple=\"multiple\">\n\t\t<slot></slot>\n\t\t<template v-for=\"option of stringOptions\">\n\t\t\t<optgroup v-if=\"option.children && option.children.length > 0\"\n\t\t\t\t\t:label=\"option.text\">\n\t\t\t\t<option v-for=\"child of option.children\" :value=\"child.id\">\n\t\t\t\t\t{{ child.text }}\n\t\t\t\t</option>\n\t\t\t</optgroup>\n\t\t\t<option v-else-if=\"option.id\" :value=\"option.id\">\n\t\t\t\t{{ option.text }}\n\t\t\t</option>\n\t\t</template>\n\t</select>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\toptions: {\n\t\t\ttype: Array,\n\t\t\trequired: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tvalue: {\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: 'Please select'\n\t\t}\n\t},\n\tcomputed: {\n\t\tstringOptions(){\n\t\t\tif(!this.options)\n\t\t\t\treturn [];\n\n\t\t\tlet options = this.options.slice();\n\t\t\tfor(let option of options){\n\t\t\t\tif(option.id)\n\t\t\t\t\toption.id = option.id.toString();\n\t\t\t\tif(option.children){\n\t\t\t\t\tfor(let child of option.children){\n\t\t\t\t\t\tif(child.id)\n\t\t\t\t\t\t\tchild.id = child.id.toString();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn options;\n\t\t},\n\t\tstringValue(){\n\t\t\tif(!this.value && this.value !== 0)\n\t\t\t\treturn '';\n\n\t\t\tif(Array.isArray(this.value)){\n\t\t\t\treturn this.value.slice().map(value => value.toString());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn this.value.toString();\n\t\t\t}\n\t\t}\n\t},\n\tmounted(){\n\t\t$(this.$el).on('change', () => {\n\t\t\tthis.$emit('input', $(this.$el).val());\n\t\t});\n\n\t\t$(this.$el).val(this.stringValue).select2({\n\t\t\tplaceholder: this.placeholder,\n\t\t\ttags: this.multiple,\n\t\t\tcreateTag: () => undefined\n\t\t});\n\t},\n\tupdated(){\n\t\t$(this.$el).val(this.stringValue).select2({\n\t\t\tplaceholder: this.placeholder,\n\t\t\ttags: this.multiple,\n\t\t\tcreateTag: () => undefined\n\t\t}).trigger('change');\n\t},\n\twatch: {\n\t\tmultiple(multiple){\n\t\t\tif(this.value){\n\t\t\t\tif(multiple && !Array.isArray(this.value))\n\t\t\t\t\tthis.$emit('input', [this.value]);\n\t\t\t\telse if(!multiple && Array.isArray(this.value))\n\t\t\t\t\tthis.$emit('input', this.value[0]);\n\t\t\t}\n\t\t},\n\t\tstringValue(stringValue){\n\t\t\t$(this.$el).val(stringValue).trigger('change.select2');\n\t\t}\n\t},\n\tbeforeDestroyed(){\n\t\t$(this.$el).off().select2('destroy');\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// SelectTwo.vue?79074005","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('select', {\n    attrs: {\n      \"name\": _vm.name,\n      \"id\": _vm.id,\n      \"required\": _vm.required,\n      \"multiple\": _vm.multiple\n    }\n  }, [_vm._t(\"default\"), _vm._v(\" \"), _vm._l((_vm.stringOptions), function(option) {\n    return [(option.children && option.children.length > 0) ? _c('optgroup', {\n      attrs: {\n        \"label\": option.text\n      }\n    }, _vm._l((option.children), function(child) {\n      return _c('option', {\n        domProps: {\n          \"value\": child.id\n        }\n      }, [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(child.text) + \"\\n\\t\\t\\t\")])\n    })) : (option.id) ? _c('option', {\n      domProps: {\n        \"value\": option.id\n      }\n    }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(option.text) + \"\\n\\t\\t\")]) : _vm._e()]\n  })], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-2434126b\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2434126b\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/vue-components/SelectTwo.vue\n// module id = 33\n// module chunks = 2 4 6 7 10"],"sourceRoot":""}