{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///vue-user-d36587e11295fa9dfbc6.js","webpack:///./resources/assets/js/modules/user-utils.js","webpack:///./resources/assets/js/vue-components/AlertList.vue","webpack:///resources/assets/js/vue-components/AlertList.vue","webpack:///./resources/assets/js/vue-components/AlertList.vue?fb34","webpack:///./resources/assets/js/vue-mixins/HasAlerts.js","webpack:///./resources/assets/js/vue-constructors/user.js"],"names":["root","factory","exports","module","define","amd","a","i","this","webpackJsonp","165","__webpack_exports__","__webpack_require__","getUserSetting","user","settingName","user_settings","setting","find","s","name","value","d","USER_SETTINGS","SETTINGS_HELP","defaultEvaluationRange","19","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlertList_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_00e2fead_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_AlertList_vue__","normalizeComponent","Component","40","__WEBPACK_IMPORTED_MODULE_0__BootstrapAlert_vue__","props","type","Array","required","methods","removeAlert","index","alerts","slice","splice","$emit","components","BootstrapAlert","41","render","_vm","_h","$createElement","_c","_self","_l","alert","_b","key","attrs","dismissable","on","close","$event","staticRenderFns","esExports","7","__WEBPACK_IMPORTED_MODULE_0__vue_components_AlertList_vue__","data","AlertList","905","createUserSettingsPage","el","propsData","__WEBPACK_IMPORTED_MODULE_0_vue___default","mixins","__WEBPACK_IMPORTED_MODULE_1__vue_mixins_HasAlerts_js__","Object","__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__","remind_only_if_pending","computed","__WEBPACK_IMPORTED_MODULE_3__modules_user_utils_js__","handleNotificationsUpdate","event","_this","preventDefault","fetch","assign","method","body","JSON","stringify","_method","notifications","then","push","text","catch","err","__WEBPACK_IMPORTED_MODULE_2__modules_errors_js__","handleRemindersUpdate","_this2","reminder_frequency","displaySetting","handleSettingsSubmit","_this3","FormData","target","contentType","saved","entries","from","successful","filter","_ref","_ref2","_slicedToArray","map","_ref3","_ref4","unsuccessful","_ref5","_ref6","_ref7","_ref8","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","get","findIndex","return","u","html","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","n","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","isArray","TypeError"],"mappings":"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","file":"vue-user-d36587e11295fa9dfbc6.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn webpackJsonp([15],{\n\n/***/ 165:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return USER_SETTINGS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SETTINGS_HELP; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getUserSetting;\n\n\nvar USER_SETTINGS = {\n\tdefaultEvaluationRange: ['currentQuarter', 'currentSemester', 'currentYear', 'allTime']\n};\n\nvar SETTINGS_HELP = {\n\tdefaultEvaluationRange: 'Warning: selecting \"All time\" by default may result in longer loading times'\n};\n\nfunction getUserSetting(user, settingName) {\n\tif (user && user.user_settings) {\n\t\tvar setting = user.user_settings.find(function (s) {\n\t\t\treturn s.name === settingName;\n\t\t});\n\t\tif (setting) return setting.value;\n\t}\n}\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlertList_vue__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_00e2fead_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_AlertList_vue__ = __webpack_require__(41);\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_AlertList_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_00e2fead_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_AlertList_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BootstrapAlert_vue__ = __webpack_require__(39);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmethods: {\n\t\tremoveAlert: function removeAlert(index) {\n\t\t\tvar alerts = this.value.slice();\n\t\t\talerts.splice(index, 1);\n\t\t\tthis.$emit('input', alerts);\n\t\t}\n\t},\n\tcomponents: {\n\t\tBootstrapAlert: __WEBPACK_IMPORTED_MODULE_0__BootstrapAlert_vue__[\"a\" /* default */]\n\t}\n});\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',_vm._l((_vm.value),function(alert,index){return _c('bootstrap-alert',_vm._b({key:index,attrs:{\"dismissable\":\"\"},on:{\"close\":function($event){_vm.removeAlert(index)}}},'bootstrap-alert',alert,false))}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__vue_components_AlertList_vue__ = __webpack_require__(19);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tdata: function data() {\n\t\treturn {\n\t\t\talerts: []\n\t\t};\n\t},\n\n\n\tcomponents: {\n\t\tAlertList: __WEBPACK_IMPORTED_MODULE_0__vue_components_AlertList_vue__[\"a\" /* default */]\n\t}\n});\n\n/***/ }),\n\n/***/ 905:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"createUserSettingsPage\"] = createUserSettingsPage;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vue_mixins_HasAlerts_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_errors_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modules_user_utils_js__ = __webpack_require__(165);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modules_utils_js__ = __webpack_require__(1);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n\nfunction createUserSettingsPage(el, propsData) {\n\treturn new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n\t\tmixins: [__WEBPACK_IMPORTED_MODULE_1__vue_mixins_HasAlerts_js__[\"a\" /* default */]],\n\t\tel: el,\n\t\tprops: {\n\t\t\tuser: {\n\t\t\t\ttype: Object,\n\t\t\t\trequired: true\n\t\t\t}\n\t\t},\n\t\tpropsData: propsData,\n\t\tdata: function data() {\n\t\t\tvar data = Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"n\" /* filterKeys */])(this.user, ['user_settings', 'notifications', 'reminder_frequency']);\n\n\t\t\tdata.remind_only_if_pending = this.user.remind_only_if_pending === 'yes';\n\n\t\t\treturn data;\n\t\t},\n\n\t\tcomputed: {\n\t\t\tUSER_SETTINGS: function USER_SETTINGS() {\n\t\t\t\treturn __WEBPACK_IMPORTED_MODULE_3__modules_user_utils_js__[\"b\" /* USER_SETTINGS */];\n\t\t\t},\n\t\t\tSETTINGS_HELP: function SETTINGS_HELP() {\n\t\t\t\treturn __WEBPACK_IMPORTED_MODULE_3__modules_user_utils_js__[\"a\" /* SETTINGS_HELP */];\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleNotificationsUpdate: function handleNotificationsUpdate(event) {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tfetch('/user/notifications', Object.assign({}, Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"g\" /* fetchConfig */])(), {\n\t\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t_method: 'PATCH',\n\t\t\t\t\t\tnotifications: this.notifications\n\t\t\t\t\t})\n\t\t\t\t})).then(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"z\" /* okOrThrow */]).then(function () {\n\t\t\t\t\t_this.alerts.push({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: 'Notification preferences saved successfully!'\n\t\t\t\t\t});\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_2__modules_errors_js__[\"b\" /* handleError */])(err, _this, 'There was a problem saving your notification preferences');\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleRemindersUpdate: function handleRemindersUpdate(event) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tfetch('/user/reminders', Object.assign({}, Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"g\" /* fetchConfig */])(), {\n\t\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t_method: 'PATCH',\n\t\t\t\t\t\treminder_frequency: this.reminder_frequency,\n\t\t\t\t\t\tremind_only_if_pending: this.remind_only_if_pending ? 'yes' : 'no'\n\t\t\t\t\t})\n\t\t\t\t})).then(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"z\" /* okOrThrow */]).then(function () {\n\t\t\t\t\t_this2.alerts.push({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: 'Reminder preferences saved successfully!'\n\t\t\t\t\t});\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_2__modules_errors_js__[\"b\" /* handleError */])(err, _this2, 'There was a problem saving your notification preferences');\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetUserSetting: function getUserSetting(setting) {\n\t\t\t\treturn Object(__WEBPACK_IMPORTED_MODULE_3__modules_user_utils_js__[\"c\" /* getUserSetting */])(this, setting);\n\t\t\t},\n\n\t\t\tdisplaySetting: __WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"c\" /* camelCaseToWords */],\n\t\t\thandleSettingsSubmit: function handleSettingsSubmit(event) {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar data = new FormData(event.target);\n\n\t\t\t\tfetch('/users/settings', Object.assign({}, Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"g\" /* fetchConfig */])({ contentType: null }), {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: data\n\t\t\t\t})).then(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"w\" /* jsonOrThrow */]).then(function (saved) {\n\t\t\t\t\tvar entries = Array.from(Object.entries(saved));\n\t\t\t\t\tvar successful = entries.filter(function (_ref) {\n\t\t\t\t\t\tvar _ref2 = _slicedToArray(_ref, 2),\n\t\t\t\t\t\t    _ = _ref2[0],\n\t\t\t\t\t\t    s = _ref2[1];\n\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}).map(function (_ref3) {\n\t\t\t\t\t\tvar _ref4 = _slicedToArray(_ref3, 2),\n\t\t\t\t\t\t    name = _ref4[0],\n\t\t\t\t\t\t    _ = _ref4[1];\n\n\t\t\t\t\t\treturn name;\n\t\t\t\t\t});\n\t\t\t\t\tvar unsuccessful = entries.filter(function (_ref5) {\n\t\t\t\t\t\tvar _ref6 = _slicedToArray(_ref5, 2),\n\t\t\t\t\t\t    _ = _ref6[0],\n\t\t\t\t\t\t    s = _ref6[1];\n\n\t\t\t\t\t\treturn !s;\n\t\t\t\t\t}).map(function (_ref7) {\n\t\t\t\t\t\tvar _ref8 = _slicedToArray(_ref7, 2),\n\t\t\t\t\t\t    name = _ref8[0],\n\t\t\t\t\t\t    _ = _ref8[1];\n\n\t\t\t\t\t\treturn name;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (successful.length > 0) {\n\t\t\t\t\t\tvar s = successful.length;\n\t\t\t\t\t\t_this3.alerts.push({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: s + ' ' + Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"A\" /* pluralize */])('setting', s) + ' saved successfully'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar user_settings = _this3.user_settings;\n\n\t\t\t\t\t\tvar _loop = function _loop(name) {\n\t\t\t\t\t\t\tvar setting = {\n\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\tvalue: data.get(name)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvar i = user_settings.findIndex(function (s) {\n\t\t\t\t\t\t\t\treturn s.name === name;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (i === -1) {\n\t\t\t\t\t\t\t\tuser_settings.push(setting);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuser_settings.splice(i, 1, setting);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator = successful[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\tvar name = _step.value;\n\n\t\t\t\t\t\t\t\t_loop(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_this3.user_settings = user_settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (unsuccessful.length > 0) {\n\t\t\t\t\t\tvar u = unsuccessful.length;\n\t\t\t\t\t\t_this3.alerts.push({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\thtml: '\\n\\t\\t\\t\\t\\t\\t\\t\\t<p>' + u + ' ' + Object(__WEBPACK_IMPORTED_MODULE_4__modules_utils_js__[\"A\" /* pluralize */])('setting', u) + ' not saved</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t' + unsuccessful.map(function (name) {\n\t\t\t\t\t\t\t\treturn '<li>' + _this3.displaySetting(name) + '</li>';\n\t\t\t\t\t\t\t}) + '\\n\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tObject(__WEBPACK_IMPORTED_MODULE_2__modules_errors_js__[\"b\" /* handleError */])(err, _this3, 'There was a problem saving your settings');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n/***/ })\n\n},[905]);\n});\n\n\n// WEBPACK FOOTER //\n// vue-user-d36587e11295fa9dfbc6.js","/* @flow */\n\nimport type { User } from '@/modules/utils.js';\n\nexport const USER_SETTINGS = {\n\tdefaultEvaluationRange: [\n\t\t'currentQuarter',\n\t\t'currentSemester',\n\t\t'currentYear',\n\t\t'allTime'\n\t]\n};\n\nexport const SETTINGS_HELP = {\n\tdefaultEvaluationRange: 'Warning: selecting \"All time\" by default may result in longer loading times'\n};\n\nexport function getUserSetting(user: User, settingName: string): ?string {\n\tif (user && user.user_settings) {\n\t\tconst setting = user.user_settings.find(s => s.name === settingName);\n\t\tif (setting)\n\t\t\treturn setting.value;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/modules/user-utils.js","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlertList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00e2fead\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AlertList.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/vue-components/AlertList.vue\n// module id = 19\n// module chunks = 2 3 4 5 6 7 9 11 14 15","<template>\n\t<section>\n\t\t<bootstrap-alert v-for=\"(alert, index) of value\" :key=\"index\"\n\t\t\tv-bind=\"alert\"\n\t\t\tdismissable\n\t\t\t@close=\"removeAlert(index)\" />\n\t</section>\n</template>\n\n<script>\nimport BootstrapAlert from './BootstrapAlert.vue';\n\nexport default {\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t}\n\t},\n\tmethods: {\n\t\tremoveAlert(index){\n\t\t\tlet alerts = this.value.slice();\n\t\t\talerts.splice(index, 1);\n\t\t\tthis.$emit('input', alerts);\n\t\t}\n\t},\n\tcomponents: {\n\t\tBootstrapAlert\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/vue-components/AlertList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',_vm._l((_vm.value),function(alert,index){return _c('bootstrap-alert',_vm._b({key:index,attrs:{\"dismissable\":\"\"},on:{\"close\":function($event){_vm.removeAlert(index)}}},'bootstrap-alert',alert,false))}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00e2fead\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/vue-components/AlertList.vue\n// module id = 41\n// module chunks = 2 3 4 5 6 7 9 11 14 15","import AlertList from '@/vue-components/AlertList.vue';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\talerts: []\n\t\t};\n\t},\n\n\tcomponents: {\n\t\tAlertList\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-mixins/HasAlerts.js","import Vue from 'vue';\nimport HasAlerts from '@/vue-mixins/HasAlerts.js';\n\nimport { handleError } from '@/modules/errors.js';\nimport { USER_SETTINGS, SETTINGS_HELP, getUserSetting } from '@/modules/user-utils.js';\nimport {\n\tcamelCaseToWords,\n\tfetchConfig,\n\tokOrThrow,\n\tjsonOrThrow,\n\tpluralize,\n\tfilterKeys\n} from '@/modules/utils.js';\n\nexport function createUserSettingsPage(el, propsData) {\n\treturn new Vue({\n\t\tmixins: [HasAlerts],\n\t\tel,\n\t\tprops: {\n\t\t\tuser: {\n\t\t\t\ttype: Object,\n\t\t\t\trequired: true\n\t\t\t}\n\t\t},\n\t\tpropsData,\n\t\tdata() {\n\t\t\tconst data = filterKeys(this.user, [\n\t\t\t\t'user_settings',\n\t\t\t\t'notifications',\n\t\t\t\t'reminder_frequency'\n\t\t\t]);\n\n\t\t\tdata.remind_only_if_pending = this.user.remind_only_if_pending === 'yes';\n\n\t\t\treturn data;\n\t\t},\n\t\tcomputed: {\n\t\t\tUSER_SETTINGS() {\n\t\t\t\treturn USER_SETTINGS;\n\t\t\t},\n\t\t\tSETTINGS_HELP() {\n\t\t\t\treturn SETTINGS_HELP;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleNotificationsUpdate(event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tfetch('/user/notifications', {\n\t\t\t\t\t...fetchConfig(),\n\t\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t_method: 'PATCH',\n\t\t\t\t\t\tnotifications: this.notifications\n\t\t\t\t\t})\n\t\t\t\t}).then(okOrThrow).then(() => {\n\t\t\t\t\tthis.alerts.push({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: 'Notification preferences saved successfully!'\n\t\t\t\t\t});\n\t\t\t\t}).catch(err => {\n\t\t\t\t\thandleError(err, this, 'There was a problem saving your notification preferences');\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleRemindersUpdate(event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tfetch('/user/reminders', {\n\t\t\t\t\t...fetchConfig(),\n\t\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t_method: 'PATCH',\n\t\t\t\t\t\treminder_frequency: this.reminder_frequency,\n\t\t\t\t\t\tremind_only_if_pending: this.remind_only_if_pending\n\t\t\t\t\t\t\t? 'yes'\n\t\t\t\t\t\t\t: 'no'\n\t\t\t\t\t})\n\t\t\t\t}).then(okOrThrow).then(() => {\n\t\t\t\t\tthis.alerts.push({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: 'Reminder preferences saved successfully!'\n\t\t\t\t\t});\n\t\t\t\t}).catch(err => {\n\t\t\t\t\thandleError(err, this, 'There was a problem saving your notification preferences');\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetUserSetting(setting) {\n\t\t\t\treturn getUserSetting(this, setting);\n\t\t\t},\n\t\t\tdisplaySetting: camelCaseToWords,\n\t\t\thandleSettingsSubmit(event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tconst data = new FormData(event.target);\n\n\t\t\t\tfetch('/users/settings', {\n\t\t\t\t\t...fetchConfig({contentType: null}),\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: data\n\t\t\t\t}).then(jsonOrThrow).then(saved => {\n\t\t\t\t\tconst entries = Array.from(Object.entries(saved));\n\t\t\t\t\tconst successful = entries\n\t\t\t\t\t\t.filter(([_, s]) => s)\n\t\t\t\t\t\t.map(([name, _]) => name);\n\t\t\t\t\tconst unsuccessful = entries\n\t\t\t\t\t\t.filter(([_, s]) => !s)\n\t\t\t\t\t\t.map(([name, _]) => name);\n\n\t\t\t\t\tif (successful.length > 0) {\n\t\t\t\t\t\tconst s = successful.length;\n\t\t\t\t\t\tthis.alerts.push({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: `${s} ${pluralize('setting', s)} saved successfully`\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst user_settings = this.user_settings;\n\t\t\t\t\t\tfor (const name of successful) {\n\t\t\t\t\t\t\tconst setting = {\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\tvalue: data.get(name)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconst i = user_settings.findIndex(s => s.name === name);\n\t\t\t\t\t\t\tif (i === -1) {\n\t\t\t\t\t\t\t\tuser_settings.push(setting);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuser_settings.splice(i, 1, setting);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.user_settings = user_settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (unsuccessful.length > 0) {\n\t\t\t\t\t\tconst u = unsuccessful.length;\n\t\t\t\t\t\tthis.alerts.push({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\thtml: `\n\t\t\t\t\t\t\t\t<p>${u} ${pluralize('setting', u)} not saved</p>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t${unsuccessful.map(name =>\n\t\t\t\t\t\t\t\t\t\t`<li>${this.displaySetting(name)}</li>`\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t`\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\thandleError(err, this, 'There was a problem saving your settings');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-constructors/user.js"],"sourceRoot":""}