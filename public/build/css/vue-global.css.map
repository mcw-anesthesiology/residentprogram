{"version":3,"sources":["webpack:///./resources/assets/js/vue-components/News/resources/assets/js/vue-components/News/List.vue","webpack:///./resources/assets/js/vue-components/EgressPairings/resources/assets/js/vue-components/EgressPairings/EgressPairings.vue","webpack:///./resources/assets/js/vue-components/resources/assets/js/vue-components/ComponentList.vue","webpack:///./resources/assets/js/vue-components/resources/assets/js/vue-components/ListPaginator.vue","webpack:///./resources/assets/js/vue-components/EgressPairings/resources/assets/js/vue-components/EgressPairings/EgressPairingListItem.vue","webpack:///./resources/assets/js/vue-components/resources/assets/js/vue-components/PhpDateInterval.vue"],"names":[],"mappings":";AA6CA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;AAEA;AACA;EACA;CACA;CACA;AAEA;AACA;EACA;EACA;CACA;AAEA;EACA;CACA;AAEA;EACA;CACA;CACA;;ACzDA;CACA;CACA;;AC2MA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;AC1NA;CACA;CACA;AAEA;CACA;CACA;;ACXA;CACA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;AAEA;CACA;CACA;CACA;CACA;;AC3FA;CACA;CACA;AAEA;CACA;CACA;CACA","file":"../css/vue-global.css","sourcesContent":["<template>\n\t<div class=\"news-list panel-body\">\n\t\t<div v-if=\"items && items.length > 0\">\n\t\t\t<bootstrap-alert v-for=\"item of items\"\n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t:html=\"item.body\"\n\t\t\t\t\tdismissable\n\t\t\t\t\t@close=\"handleDismiss(item.id)\">\n\t\t\t\t<template slot=\"header\">\n\t\t\t\t\t<span class=\"alert-heading h3\">\n\t\t\t\t\t\t{{ item.heading || 'New!' }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<template slot=\"footer\">\n\t\t\t\t\t<div v-if=\"item.link\" class=\"link-container\">\n\t\t\t\t\t\t<a :href=\"item.link\" class=\"btn btn-lg btn-success\">\n\t\t\t\t\t\t\t{{ item.link_text || getLinkText() }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"alert-buttons\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-info\"\n\t\t\t\t\t\t\t\t@click=\"handleRemindLater(item.id)\">\n\t\t\t\t\t\t\tRemind me later\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\"\n\t\t\t\t\t\t\t\t@click=\"handleDismiss(item.id)\">\n\t\t\t\t\t\t\t{{ getAcknowledgeText() }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</bootstrap-alert>\n\t\t</div>\n\t\t<div v-else class=\"no-news-container text-center\">\n\t\t\t<p>\n\t\t\t\tNothing here!\n\t\t\t</p>\n\t\t\t<p class=\"no-news-glyph-container\">\n\t\t\t\t<span class=\"glyphicon glyphicon-thumbs-up\"></span>\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n\t.news-list {\n\t\toverflow: auto;\n\t}\n\n\t.alert-heading {\n\t\tdisplay: block;\n\t\tmargin: 2rem 1.5rem;\n\t}\n\n\t.news-list :global(.alert .alert-html) {\n\t\tpadding: 0 1.5rem;\n\t}\n\n\t.link-container {\n\t\ttext-align: center;\n\t\tpadding: 1.5em 0;\n\t}\n\n\t.alert-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.alert-buttons > .btn {\n\t\tmargin: 0.5em;\n\t}\n\n\t.alert-buttons .btn-primary {\n\t\tmin-width: 8em;\n\t}\n\n\t.no-news-glyph-container {\n\t\tfont-size: 3em;\n\t\tmargin-top: 0.5em;\n\t\tcolor: rgba(0, 0, 0, 0.4);\n\t}\n\n\t@media (min-width: 768px) {\n\t\t.news-list {\n\t\t\tmax-height: calc(100vh - 175px);\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\t.alert-buttons {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.no-news-container {\n\t\t\tcolor: rgba(255, 255, 255, 0.75);\n\t\t}\n\n\t\t.no-news-glyph-container {\n\t\t\tcolor: rgba(255, 255, 255, 0.65);\n\t\t}\n\t}\n</style>\n\n<script>\nimport BootstrapAlert from '@/vue-components/BootstrapAlert.vue';\n\nimport { logError } from '@/modules/errors.js';\nimport { getAcknowledgeText, getLinkText } from '@/modules/niceties.js';\nimport { fetchConfig, okOrThrow } from '@/modules/utils.js';\n\nexport default {\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\tgetAcknowledgeText,\n\t\tgetLinkText,\n\n\t\thandleDismiss(id) {\n\t\t\tfetch(`/news-items/${id}/dismiss`, {\n\t\t\t\t...fetchConfig(),\n\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t_method: 'PATCH'\n\t\t\t\t})\n\t\t\t}).then(okOrThrow).then(() => {\n\t\t\t\tthis.$emit('remove', id);\n\t\t\t}).catch(err => {\n\t\t\t\t// TODO: Display this somewhere\n\t\t\t\t// handleError(err, this, )\n\t\t\t\tlogError(err);\n\t\t\t});\n\t\t},\n\t\thandleRemindLater(id) {\n\t\t\tfetch(`/news-items/${id}/temporarily-dismiss`, {\n\t\t\t\t...fetchConfig(),\n\t\t\t\tmethod: 'POST', // PATCH\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t_method: 'PATCH'\n\t\t\t\t})\n\t\t\t}).then(okOrThrow).then(() => {\n\t\t\t\tthis.$emit('remove', id);\n\t\t\t}).catch(err => {\n\t\t\t\t// TODO: Display this somewhere\n\t\t\t\t// handleError(err, this, )\n\t\t\t\tlogError(err);\n\t\t\t});\n\t\t}\n\t},\n\tcomponents: {\n\t\tBootstrapAlert\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/News/resources/assets/js/vue-components/News/List.vue?3bfa11ea","<template>\n\t<div>\n\t\t<div v-if=\"pairingData\" class=\"container body-block\">\n\t\t\t<h1>Detailed pairing report</h1>\n\t\t\t<h2>\n\t\t\t\t{{ userName }}\n\t\t\t\t<small v-if=\"reportDates\">\n\t\t\t\t\t{{\n\t\t\t\t\t\trenderDateRange(\n\t\t\t\t\t\t\tthis.reportDates.startDate,\n\t\t\t\t\t\t\tthis.reportDates.endDate\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</small>\n\t\t\t</h2>\n\n\t\t\t<component-list\n\t\t\t\t\titem-key=\"name\"\n\t\t\t\t\t:fields=\"fields\"\n\t\t\t\t\t:field-accessors=\"fieldAccessors\"\n\t\t\t\t\t:items=\"pairingData.pairings\"\n\t\t\t\t\t:paginate=\"false\">\n\t\t\t\t<template slot-scope=\"pairing\">\n\t\t\t\t\t<egress-pairing-list-item :pairing=\"pairing\"\n\t\t\t\t\t\t:subject-type=\"subjectType\"\n\t\t\t\t\t\t:report-dates=\"reportDates\" />\n\t\t\t\t</template>\n\t\t\t</component-list>\n\t\t</div>\n\t\t<div v-else class=\"container body-block\">\n\t\t\t<p v-if=\"encodedPairingData\">\n\t\t\t\tSorry, there was a problem decoding the report data from the link.\n\t\t\t\tPlease let me know at\n\t\t\t\t<a :href=\"`mailto:${ADMIN_EMAIL}`\">{{ ADMIN_EMAIL }}</a>.\n\t\t\t</p>\n\t\t\t<p v-else>\n\t\t\t\tSorry, we couldn't find any pairing data in the address.\n\t\t\t\tPlease double check the link you used to get here.\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n\th2 {\n\t\tmargin: 1.5em 0;\n\t}\n</style>\n\n<script>\nimport * as lzstring from 'lz-string';\n\nimport ComponentList from '@/vue-components/ComponentList.vue';\nimport EgressPairingListItem from './EgressPairingListItem.vue';\n\nimport { logError } from '@/modules/errors.js';\nimport { renderDateRange, parsePhpDateInterval } from '@/modules/date-utils.js';\nimport { ucfirst } from '@/modules/utils.js';\n\nimport { ADMIN_EMAIL } from '@/modules/constants.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tADMIN_EMAIL\n\t\t};\n\t},\n\tcomputed: {\n\t\tuserName() {\n\t\t\tif (!this.pairingData)\n\t\t\t\treturn;\n\n\t\t\treturn this.pairingData['user name'];\n\t\t},\n\t\tparams() {\n\t\t\treturn new URLSearchParams(window.location.search);\n\t\t},\n\t\tuserType() {\n\t\t\treturn this.params.get('userType');\n\t\t},\n\t\tsubjectType() {\n\t\t\treturn this.params.get('subjectType') || 'trainee';\n\t\t},\n\t\treportDates() {\n\t\t\tconst startDate = this.params.get('startDate');\n\t\t\tconst endDate = this.params.get('endDate');\n\n\t\t\tif (startDate && endDate) {\n\t\t\t\treturn {\n\t\t\t\t\tstartDate,\n\t\t\t\t\tendDate\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tencodedPairingData() {\n\t\t\treturn this.params.get('pairingData');\n\t\t},\n\t\tpairingData() {\n\t\t\tif (!this.encodedPairingData)\n\t\t\t\treturn;\n\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(lzstring.decompressFromEncodedURIComponent(\n\t\t\t\t\tthis.encodedPairingData\n\t\t\t\t));\n\t\t\t} catch (err) {\n\t\t\t\tlogError(err);\n\t\t\t}\n\t\t},\n\t\tfields() {\n\t\t\treturn ['name', 'cases together', 'time together'];\n\t\t},\n\t\tfieldAccessors() {\n\t\t\treturn {\n\t\t\t\tname: pairing => pairing[this.subjectType].full_name,\n\t\t\t\t'cases together': pairing => pairing.numCases,\n\t\t\t\t'time together': pairing =>\n\t\t\t\t\tparsePhpDateInterval(pairing.totalTime).asSeconds()\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tucfirst,\n\t\trenderDateRange\n\t},\n\tcomponents: {\n\t\tComponentList,\n\t\tEgressPairingListItem\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/EgressPairings/resources/assets/js/vue-components/EgressPairings/EgressPairings.vue?1eed6cc2","<template>\n\t<div>\n\t\t<div class=\"list-header-controls form-inline\">\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label class=\"containing-label\">\n\t\t\t\t\tSort\n\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t<select class=\"form-control\" v-model=\"sortBy\">\n\t\t\t\t\t\t\t<option v-for=\"field of fields\" :value=\"field\">\n\t\t\t\t\t\t\t\t{{ renderFieldName(field) }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<span class=\"input-group-btn\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\"\n\t\t\t\t\t\t\t\t\t@click=\"sortOrder = sortOrder === 'asc' ? 'desc' : 'asc'\">\n\t\t\t\t\t\t\t\t<span v-if=\"sortOrder === 'asc'\"\n\t\t\t\t\t\t\t\t\tclass=\"glyphicon glyphicon-sort-by-alphabet\"></span>\n\t\t\t\t\t\t\t\t<span v-else\n\t\t\t\t\t\t\t\t\tclass=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label class=\"containing-label\">\n\t\t\t\t\tSearch\n\t\t\t\t\t<input type=\"search\" class=\"form-control\" v-model=\"query\"\n\t\t\t\t\t\tplaceholder=\"Search\" />\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div v-if=\"reloadable\" class=\"form-group\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-default labelless-button\"\n\t\t\t\t\t\t@click=\"$emit('reload')\">\n\t\t\t\t\t<span class=\"glyphicon glyphicon-refresh\"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"list-container\">\n\t\t\t<slot name=\"header\"></slot>\n\n\t\t\t<ol v-if=\"itemsToShow\" class=\"list\">\n\t\t\t\t<slot v-for=\"item of currentPageItems\" v-bind=\"item\"></slot>\n\t\t\t</ol>\n\t\t\t<p v-else class=\"no-items-text\">\n\t\t\t\tNo items to show\n\t\t\t</p>\n\n\t\t\t<slot name=\"footer\"></slot>\n\t\t</div>\n\t\t<list-paginator v-if=\"paginate\"\n\t\t\tv-model=\"page\" :paginatedItems=\"paginatedItems\"\n\t\t\t:itemsPerPage=\"itemsPerPage\"\n\t\t\t@pageSize=\"itemsPerPage = arguments[0]\" />\n\t</div>\n</template>\n\n<script>\nimport ListPaginator from './ListPaginator.vue';\n\nimport lunr from 'lunr';\n\nimport { snakeCaseToWords } from '@/modules/utils.js';\nimport { sortFunctions } from '@/modules/report-utils.js';\n\nexport default {\n\tprops: {\n\t\titemKey: {\n\t\t\ttype: String,\n\t\t\tdefault: 'id'\n\t\t},\n\t\tsearchRef: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tfieldAccessors: {\n\t\t\ttype: Object,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultSortBy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdefaultSortOrder: {\n\t\t\ttype: String,\n\t\t\tvalidator(order) {\n\t\t\t\treturn ['asc', 'desc'].includes(order);\n\t\t\t},\n\t\t\tdefault: 'asc'\n\t\t},\n\t\tpaginate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\treloadable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tsortFunctions: {\n\t\t\ttype: Map,\n\t\t\tdefault(){\n\t\t\t\treturn sortFunctions;\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tquery: null,\n\t\t\tpage: 0,\n\t\t\titemsPerPage: 10,\n\t\t\tsortBy: this.defaultSortBy || this.fields[0],\n\t\t\tsortOrder: this.defaultSortOrder\n\t\t};\n\t},\n\tcomputed: {\n\t\titemsWithAccessors() {\n\t\t\treturn this.fieldAccessors\n\t\t\t\t? this.items.map(item => {\n\t\t\t\t\treturn Array.from(Object.entries(this.fieldAccessors))\n\t\t\t\t\t\t.reduce((i, [field, accessor]) => {\n\t\t\t\t\t\t\ti[field] = accessor(item, 'search');\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}, Object.assign({}, item));\n\t\t\t\t})\n\t\t\t\t: this.items;\n\t\t},\n\t\titemMap() {\n\t\t\tlet map = new Map();\n\t\t\tthis.itemsWithAccessors.map(item => {\n\t\t\t\tmap.set(item[this.itemKey], item);\n\t\t\t});\n\n\t\t\treturn map;\n\t\t},\n\t\tindex() {\n\t\t\tconst vm = this;\n\n\t\t\treturn lunr(function() {\n\t\t\t\tthis.ref(vm.searchRef || vm.itemKey);\n\n\t\t\t\tfor (const field of vm.fields) {\n\t\t\t\t\tlet name, options;\n\t\t\t\t\tif (typeof field === 'string') {\n\t\t\t\t\t\tname = field;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tname = field.name;\n\t\t\t\t\t\toptions = field;\n\t\t\t\t\t}\n\t\t\t\t\tthis.field(name, options);\n\t\t\t\t}\n\n\t\t\t\tvm.itemsWithAccessors.forEach(i => {\n\t\t\t\t\tthis.add(i);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tfilteredItems() {\n\t\t\tif (this.query && this.index) {\n\t\t\t\tlet refs = this.index.search(this.query);\n\t\t\t\treturn refs.map(ref => {\n\t\t\t\t\treturn this.itemMap.get(ref.ref);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.itemsWithAccessors;\n\t\t},\n\t\tsortedItems() {\n\t\t\tif (this.sortBy && this.sortOrder) {\n\n\t\t\t\treturn sortFunctions.has(this.sortBy)\n\t\t\t\t\t? this.filteredItems.sort(sortFunctions.get(this.sortBy))\n\t\t\t\t\t: this.filteredItems.sort((a, b) => {\n\t\t\t\t\t\tlet aValue;\n\t\t\t\t\t\tlet bValue;\n\n\t\t\t\t\t\tif (this.fieldAccessors && this.sortBy in this.fieldAccessors) {\n\t\t\t\t\t\t\taValue = this.fieldAccessors[this.sortBy](a, 'sort');\n\t\t\t\t\t\t\tbValue = this.fieldAccessors[this.sortBy](b, 'sort');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taValue = a[this.sortBy];\n\t\t\t\t\t\t\tbValue = b[this.sortBy];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Number.isNaN(aValue))\n\t\t\t\t\t\t\taValue = aValue.toUpperCase();\n\n\t\t\t\t\t\tif (Number.isNaN(bValue))\n\t\t\t\t\t\t\tbValue = bValue.toUpperCase();\n\n\t\t\t\t\t\tif (aValue < bValue)\n\t\t\t\t\t\t\treturn this.sortOrder === 'asc'\n\t\t\t\t\t\t\t\t? -1\n\t\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t\tif (aValue > bValue)\n\t\t\t\t\t\t\treturn this.sortOrder === 'asc'\n\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t: -1;\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.filteredItems;\n\t\t},\n\t\tpaginatedItems() {\n\t\t\tif (!this.paginate)\n\t\t\t\treturn this.sortedItems;\n\n\t\t\tlet paginatedItems = [];\n\t\t\tlet items = this.sortedItems.slice();\n\t\t\twhile(items.length > 0)\n\t\t\t\tpaginatedItems.push(items.splice(0, this.itemsPerPage));\n\n\t\t\treturn paginatedItems;\n\t\t},\n\t\tcurrentPageItems() {\n\t\t\tif (!this.paginate)\n\t\t\t\treturn this.sortedItems;\n\n\t\t\treturn this.paginatedItems[this.page];\n\t\t},\n\t\titemsToShow() {\n\t\t\treturn this.filteredItems && this.filteredItems.length > 0;\n\t\t}\n\t},\n\tmethods: {\n\t\trenderFieldName(field) {\n\t\t\tif (field === 'id')\n\t\t\t\treturn 'ID';\n\n\t\t\treturn snakeCaseToWords(field);\n\t\t}\n\t},\n\tcomponents: {\n\t\tListPaginator\n\t}\n};\n</script>\n\n<style scoped>\n\t.list-header-controls {\n\t\ttext-align: right;\n\t}\n\n\t.list-header-controls input[type=\"search\"] {\n\t\twidth: 300px;\n\t\tmax-width: 100%;\n\t}\n\n\t.list-header-controls.form-inline .input-group > .form-control {\n\t\twidth: auto;\n\t}\n\n\t.list-container {\n\t\tmargin: 3em 0;\n\t}\n\n\t.list {\n\t\tpadding: 0;\n\t}\n\n\t.list li {\n\t\tlist-style: none;\n\t}\n\n\t.containing-label {\n\t\ttext-align: left;\n\t}\n\n\t.containing-label > * {\n\t\tdisplay: block;\n\t}\n\n\t.no-items-text {\n\t\tpadding: 0.5em 0;\n\t\tborder: 1px solid rgba(0, 0, 0, 0.15);\n\t\tborder-left: none;\n\t\tborder-right: none;\n\t\ttext-align: center;\n\t\tfont-size: 1.25em;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/resources/assets/js/vue-components/ComponentList.vue?27906ede","<template>\n\t<section class=\"paginator\">\n\t\t<div class=\"form-inline\">\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label class=\"containing-label\">\n\t\t\t\t\tCurrent page:\n\t\t\t\t\t<input type=\"number\" class=\"form-control\" :value=\"value + 1\"\n\t\t\t\t\t\tmin=\"1\" :max=\"paginatedItems.length\"\n\t\t\t\t\t\t@input=\"$emit('input', Number($event.target.value) - 1)\" />\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label class=\"containing-label\">\n\t\t\t\t\tItems per page:\n\t\t\t\t\t<select class=\"form-control\" :value=\"itemsPerPage\"\n\t\t\t\t\t\t\t@input=\"$emit('pageSize', Number($event.target.value))\">\n\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t<option value=\"20\">20</option>\n\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t<option value=\"100\">100</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t\t<nav v-if=\"itemsPerPage && paginatedItems.length > 1\">\n\t\t\t<div class=\"btn-group\">\n\t\t\t\t<paginator-link :value=\"value - 1\" text=\"← Prev\"\n\t\t\t\t\t:active=\"value === 0\" @click=\"setPage\" />\n\n\t\t\t\t<paginator-link v-for=\"(pageItems, pageNum) of paginatedItems\"\n\t\t\t\t\t:key=\"pageNum\"\n\t\t\t\t\t:value=\"pageNum\"\n\t\t\t\t\t:active=\"pageNum === value\"\n\t\t\t\t\t@click=\"setPage\" />\n\n\t\t\t\t<paginator-link :value=\"value + 1\" text=\"Next →\"\n\t\t\t\t\t:active=\"value === paginatedItems.length - 1\"\n\t\t\t\t\t@click=\"setPage\" />\n\t\t\t</div>\n\t\t</nav>\n\t</section>\n</template>\n\n<script>\nimport PaginatorLink from './PaginatorLink.vue';\n\nexport default {\n\tprops: {\n\t\tvalue: Number,\n\t\titemsPerPage: Number,\n\t\tpaginatedItems: Array\n\t},\n\twatch: {\n\t\titemsPerPage(){\n\t\t\tif(this.value >= this.paginatedItems.length)\n\t\t\t\tthis.setPage(this.paginatedItems.length - 1);\n\t\t}\n\t},\n\tmethods: {\n\t\tsetPage(page){\n\t\t\tthis.$emit('input', page);\n\t\t}\n\t},\n\tcomponents: {\n\t\tPaginatorLink\n\t}\n};\n</script>\n\n<style scoped>\n\t.paginator {\n\t\ttext-align: center;\n\t}\n\n\tnav span {\n\t\tmargin: 0 0.25em;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/resources/assets/js/vue-components/ListPaginator.vue?626194f0","<template>\n\t<li class=\"component-list-item\">\n\t\t<div class=\"subject\">\n\t\t\t<fallback-img :src=\"`/${subject.photo_path}`\" alt=\"\" />\n\t\t\t<p class=\"subject-name\">\n\t\t\t\t{{ subject.full_name }}\n\t\t\t</p>\n\t\t\t<p class=\"subject-type\">\n\t\t\t\t{{ ucfirst(subject.specific_type) }}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a :href=\"evaluateLink\" target=\"_blank\">\n\t\t\t\t\tEvaluate\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"pairing-metric pairing-metric-num-cases\">\n\t\t\t<span class=\"pairing-metric-value\">\n\t\t\t\t{{ pairing.numCases }}\n\t\t\t</span>\n\t\t\t<span class=\"pairing-metric-label\">\n\t\t\t\tCases together\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"pairing-metric pairing-metric-time-together\">\n\t\t\t<span class=\"pairing-metric-value\">\n\t\t\t\t<php-date-interval :value=\"pairing.totalTime\" />\n\t\t\t</span>\n\t\t\t<span class=\"pairing-metric-label\">\n\t\t\t\tTime together\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"pairing-metric-case-list panel panel-default\">\n\t\t\t<div class=\"panel-heading\">\n\t\t\t\t<span class=\"panel-title\">Case details</span>\n\t\t\t</div>\n\t\t\t<div class=\"panel-body\">\n\t\t\t\t<ul class=\"cases-list\">\n\t\t\t\t\t<li v-for=\"pairingCase of pairingCases\">\n\t\t\t\t\t\t<p class=\"case-procedures\">\n\t\t\t\t\t\t\t{{ pairingCase.procedures.map(cleanProcedureName).join('; ') }}\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<dl class=\"case-details\">\n\t\t\t\t\t\t\t<dt>Date</dt>\n\t\t\t\t\t\t\t<dd>{{ displayDate(pairingCase.date) }}</dd>\n\n\t\t\t\t\t\t\t<template v-if=\"pairingCase.additionalInfo\">\n\t\t\t\t\t\t\t\t<template v-for=\"(value, key) of pairingCase.additionalInfo\">\n\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t{{ titleCase(key) }}\n\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t\t\t{{ cleanAdditionalInfo(value) }}\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</li>\n</template>\n\n<style scoped>\n\t.component-list-item {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\talign-items: flex-start;\n\t}\n\n\t.component-list-item > * {\n\t\tmargin: 0.5em;\n\t\tflex-grow: 1;\n\t\tflex-shrink: 1;\n\t}\n\n\t.subject {\n\t\tflex-basis: calc(20% - 1em);\n\t}\n\n\t.pairing-metric-num-cases {\n\t\tflex-basis: calc(15% - 1em);\n\t}\n\n\t.pairing-metric-time-together {\n\t\tflex-basis: calc(25% - 1em);\n\t}\n\n\t.pairing-metric-case-list {\n\t\tflex-basis: calc(40% - 1em);\n\t\tmin-width: 300px;\n\t\tmax-width: 100%;\n\t}\n\n\t.pairing-metric-case-list .panel-body {\n\t\tmax-height: 400px;\n\t\toverflow: auto;\n\t}\n\n\t.pairing-metric-case-list li + li {\n\t\tmargin-top: 0.5em;\n\t}\n\n\t.pairing-metric-case-list dl {\n\t\tmargin-left: 1em;\n\t}\n\n\t.cases-list {\n\t\tfont-size: 1.15em;\n\t\tlist-style-type: disc;\n\t}\n\n\t.case-procedures {\n\t\tmargin-bottom: 0.5em;\n\t}\n\n\t.case-details {\n\t\tfont-size: 0.85em;\n\t}\n\n\t.subject {\n\t\ttext-align: center;\n\t}\n\n\t.subject img {\n\t\tdisplay: block;\n\t\tmargin: 0.25em auto;\n\t\theight: 10em;\n\t}\n\n\t.subject-name {\n\t\tfont-size: 1.15em;\n\t}\n\n\t.subject-type {\n\t\tcolor: rgba(0, 0, 0, 0.65);\n\t}\n\n\t.pairing-metric {\n\t\tdisplay: block;\n\t\tborder: 1px solid rgba(0, 0, 0, 0.15);\n\t\tpadding: 2em 1em;\n\t\tfont-size: 1.25em;\n\t\tborder-radius: 1px;\n\t\ttext-align: center;\n\t}\n\n\t.pairing-metric .pairing-metric-label {\n\t\tdisplay: block;\n\t\tcolor: rgba(0, 0, 0, 0.35);\n\t\tfont-size: 0.8em;\n\t}\n\n\t.pairing-metric .pairing-metric-value {\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t\tfont-size: 1.25em;\n\t}\n</style>\n\n<script>\nimport moment from 'moment';\n\nimport FallbackImg from '@/vue-components/FallbackImg.vue';\nimport PhpDateInterval from '@/vue-components/PhpDateInterval.vue';\n\nimport { logError } from '@/modules/errors.js';\nimport {\n\tucfirst,\n\ttitleCase,\n\treplaceAcronyms\n} from '@/modules/text-utils.js';\n\nexport default {\n\tprops: {\n\t\tpairing: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tsubjectType: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\treportDates: {\n\t\t\ttype: Object,\n\t\t\trequired: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tsubject() {\n\t\t\treturn this.pairing[this.subjectType];\n\t\t},\n\t\tpairingCases() {\n\t\t\treturn this.pairing.cases.sort((a, b) => {\n\t\t\t\tconst aDate = ('date' in a.date)\n\t\t\t\t\t? a.date.date\n\t\t\t\t\t: a.date;\n\n\t\t\t\tconst bDate = ('date' in b.date)\n\t\t\t\t\t? b.date.date\n\t\t\t\t\t: b.date;\n\n\t\t\t\treturn moment(aDate).valueOf() - moment(bDate).valueOf();\n\t\t\t});\n\t\t},\n\t\tevaluateLink() {\n\t\t\tconst filterType = this.subjectType === 'faculty'\n\t\t\t\t? 'evaluator'\n\t\t\t\t: 'subject';\n\n\t\t\tconst params = new URLSearchParams();\n\t\t\tparams.set(filterType, this.subject.id);\n\n\t\t\tif (this.reportDates) {\n\t\t\t\tparams.set('startDate', this.reportDates.startDate);\n\t\t\t\tparams.set('endDate', this.reportDates.endDate);\n\t\t\t}\n\n\t\t\treturn `/request?${params.toString()}`;\n\t\t}\n\t},\n\tmethods: {\n\t\tucfirst,\n\t\ttitleCase,\n\t\treplaceAcronyms,\n\t\tdisplayDate(date) {\n\t\t\tdate = ('date' in date)\n\t\t\t\t? date.date\n\t\t\t\t: date;\n\n\t\t\treturn moment(date, '').format('l (dddd)');\n\t\t},\n\t\tsortCases(a, b) {\n\t\t\ttry {\n\t\t\t\treturn this.parseDate(a.date) - this.parseDate(b.date);\n\t\t\t} catch (err) {\n\t\t\t\tlogError(err);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\tparseDate(date) {\n\t\t\ttry {\n\t\t\t\tlet [m, d, y] = date.split('/').map(Number);\n\t\t\t\tm -= 1;\n\t\t\t\tif (y < 1900)\n\t\t\t\t\ty += 2000;\n\n\t\t\t\treturn new Date(y, m, d);\n\t\t\t} catch (err) {\n\t\t\t\tlogError(err);\n\t\t\t}\n\t\t},\n\t\tcleanProcedureName(proc) {\n\t\t\treturn replaceAcronyms(ucfirst(proc.toLowerCase())\n\t\t\t\t.replace(/,(?! )/g, ', '));\n\t\t},\n\t\tcleanAdditionalInfo(text) {\n\t\t\treturn replaceAcronyms(titleCase(text))\n\t\t\t\t.replace(/Or$/, 'OR');\n\t\t}\n\t},\n\tcomponents: {\n\t\tFallbackImg,\n\t\tPhpDateInterval\n\t}\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/EgressPairings/resources/assets/js/vue-components/EgressPairings/EgressPairingListItem.vue?24df1a7e","<template>\n\t<span v-if=\"pre\" class=\"php-date-interval-pre\">\n\t\t{{ preDisplay }}\n\t</span>\n\t<span v-else class=\"php-date-interval\">\n\t\t<span v-if=\"days\" class=\"php-date-interval-unit\">\n\t\t\t{{days}} {{pluralize('day', days)}}\n\t\t</span>\n\t\t<span v-if=\"days || hours\" class=\"php-date-interval-unit\">\n\t\t\t{{hours}} {{pluralize('hour', hours)}}\n\t\t</span>\n\t\t<span v-if=\"minutes\" class=\"php-date-interval-unit\">\n\t\t\t{{minutes}} {{pluralize('minute', minutes)}}\n\t\t</span>\n\t</span>\n</template>\n\n<script>\nimport { pluralize } from '@/modules/text-utils.js';\n\nexport default {\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tpre: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tdays() {\n\t\t\treturn this.value.days;\n\t\t},\n\t\thours() {\n\t\t\treturn this.value.h;\n\t\t},\n\t\tminutes() {\n\t\t\treturn this.value.i;\n\t\t},\n\t\tthingsToDisplay() {\n\t\t\treturn [\n\t\t\t\t'days',\n\t\t\t\t'hours',\n\t\t\t\t'minutes'\n\t\t\t];\n\t\t},\n\t\tpreDisplay() {\n\t\t\treturn this.thingsToDisplay\n\t\t\t\t.filter(thing => this[thing])\n\t\t\t\t.map(thing => {\n\t\t\t\t\tconst val = this[thing];\n\t\t\t\t\tconst unit = val === 1\n\t\t\t\t\t\t? thing.substring(0, thing.length - 1) + ' '\n\t\t\t\t\t\t: thing;\n\n\t\t\t\t\treturn `${String(val).padStart(2)} ${unit}`;\n\t\t\t\t})\n\t\t\t\t.join('  ');\n\t\t}\n\t},\n\tmethods: {\n\t\tpluralize\n\t}\n};\n</script>\n\n<style scoped>\n\t.php-date-interval-pre {\n\t\twhite-space: pre;\n\t}\n\n\t.php-date-interval-unit {\n\t\tmargin: 0 0.1em;\n\t\twhite-space: nowrap;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/js/vue-components/resources/assets/js/vue-components/PhpDateInterval.vue?5935ac85"],"sourceRoot":""}