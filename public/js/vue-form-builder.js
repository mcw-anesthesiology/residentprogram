!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return webpackJsonp([3],{10:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{options:{type:Array,required:!1},name:{type:String,required:!1},id:{type:String,required:!1},required:{type:Boolean,required:!1},value:{required:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:"Please select"}},computed:{stringOptions:function(){if(!this.options)return[];var t=this.options.slice(),e=!0,n=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var r=o.value;if(r.id&&(r.id=r.id.toString()),r.children){var a=!0,l=!1,u=void 0;try{for(var c,d=r.children[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var p=c.value;p.id&&(p.id=p.id.toString())}}catch(t){l=!0,u=t}finally{try{!a&&d.return&&d.return()}finally{if(l)throw u}}}}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}return t},stringValue:function(){return this.value?Array.isArray(this.value)?this.value.slice().map(function(t){return t.toString()}):this.value.toString():""}},mounted:function(){var t=this;$(this.$el).on("change",function(){t.$emit("input",$(t.$el).val())}),$(this.$el).val(this.stringValue).select2({placeholder:this.placeholder,tags:this.multiple,createTag:function(){}})},beforeUpdate:function(){$(this.$el).select2("destroy")},updated:function(){$(this.$el).val(this.stringValue).select2({placeholder:this.placeholder,tags:this.multiple,createTag:function(){}}),this.$refs.select.querySelector('option[value="'+this.value+'"]')||this.$emit("input",null)},watch:{multiple:function(t){this.value&&(t&&!Array.isArray(this.value)?this.$emit("input",[this.value]):!t&&Array.isArray(this.value)&&this.$emit("input",this.value[0]))},stringValue:function(t){$(this.$el).val(t).trigger("change.select2")}},beforeDestroyed:function(){$(this.$el).off().select2("destroy")}}},14:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{ref:"select",attrs:{name:t.name,id:t.id,required:t.required,multiple:t.multiple}},[t._t("default"),t._v(" "),t._l(t.stringOptions,function(e){return[e.children&&e.children.length>0?n("optgroup",{attrs:{label:e.text}},t._l(e.children,function(e){return n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t\t"+t._s(e.text)+"\n\t\t\t")])})):e.id?n("option",{domProps:{value:e.id}},[t._v("\n\t\t\t"+t._s(e.text)+"\n\t\t")]):t._e()]})],2)},staticRenderFns:[]}},187:function(t,e,n){e=t.exports=n(1)(),e.push([t.i,".form-builder-question-option[data-v-09008ada]{margin-top:10px}.working-option[data-v-09008ada]{opacity:.5}.working-option.is-focused[data-v-09008ada],.working-option[data-v-09008ada]:active,.working-option[data-v-09008ada]:hover{opacity:1}textarea.form-option-description[data-v-09008ada]{resize:vertical;height:100px}",""])},194:function(t,e,n){e=t.exports=n(1)(),e.push([t.i,"",""])},2:function(t,e){function n(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=c[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(a(i.parts[s],e))}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(a(i.parts[s],e));c[i.id]={id:i.id,refs:1,parts:r}}}}function i(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],s=o[0],r=o[1],a=o[2],l=o[3],u={css:r,media:a,sourceMap:l};n[s]?n[s].parts.push(u):e.push(n[s]={id:s,parts:[u]})}return e}function o(t,e){var n=f(),i=h[h.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function r(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function a(t,e){var n,i,o;if(e.singleton){var a=v++;n=m||(m=r(e)),i=l.bind(null,n,a,!1),o=l.bind(null,n,a,!0)}else n=r(e),i=u.bind(null,n),o=function(){s(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function l(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function u(t,e){var n=e.css,i=e.media,o=e.sourceMap;if(i&&t.setAttribute("media",i),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,h=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var o=i(t);return n(o,e),function(t){for(var s=[],r=0;r<o.length;r++){var a=o[r],l=c[a.id];l.refs--,s.push(l)}if(t){var u=i(t);n(u,e)}for(var r=0;r<s.length;r++){var l=s[r];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},207:function(t,e,n){e=t.exports=n(1)(),e.push([t.i,".question-id[data-v-aaf882ea]{font-size:larger;text-transform:uppercase;font-weight:700}",""])},293:function(t,e,n){var i,o;i=n(90);var s=n(312);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,t.exports=i},294:function(t,e,n){var i,o;n(343),i=n(91);var s=n(311);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,o._scopeId="data-v-09008ada",t.exports=i},295:function(t,e,n){var i,o;n(363),i=n(92);var s=n(340);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,o._scopeId="data-v-aaf882ea",t.exports=i},311:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-builder-question-option col-lg-2 col-md-3 col-sm-6 text-center",class:{"working-option":t.isWorkingOption,"is-focused":t.isFocused}},[n("input",{attrs:{type:t.displayType,disabled:""}}),t._v(" "),n("input",{staticClass:"form-input form-option form-option-text form-control",attrs:{type:"text",placeholder:"Option Text"},domProps:{value:t.text},on:{input:function(e){t.$emit("input",{text:e.target.value})},change:function(e){t.$emit("change",{text:e.target.value})},focus:function(e){t.handleInputFocus("text")},blur:function(e){t.handleInputBlur("text")}}}),t._v(" "),n("input",{staticClass:"form-input form-option form-option-value form-control",attrs:{type:"radio"===t.type?"number":"text",placeholder:"Option Value"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",{value:e.target.value})},change:function(e){t.$emit("change",{value:e.target.value})},focus:function(e){t.handleInputFocus("value")},blur:function(e){t.handleInputBlur("value")}}}),t._v(" "),n("textarea",{staticClass:"form-input form-option form-option-description form-control",attrs:{placeholder:"Hover Description"},domProps:{value:t.description},on:{input:function(e){t.$emit("input",{description:e.target.value})},change:function(e){t.$emit("change",{description:e.target.value})},focus:function(e){t.handleInputFocus("description")},blur:function(e){t.handleInputBlur("description")}}})])},staticRenderFns:[]}},312:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid form-instruction-block form-block"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-10"},[n("label",[t._v("Instruction block")]),t._v(" "),t._m(0),t._v(" "),n("textarea",{staticClass:"form-control form-instruction-text",attrs:{required:""},domProps:{value:t.text},on:{input:function(e){t.$emit("change",{text:e.target.value})}}})]),t._v(" "),n("div",{staticClass:"col-md-1 col-md-offset-1"},[n("button",{staticClass:"form-block-delete btn btn-danger del-btn",attrs:{type:"button"},on:{click:function(e){t.$emit("remove")}}},[t._v("Delete")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("small",[t._v("Supports "),n("a",{attrs:{href:"http://daringfireball.net/projects/markdown/basics",target:"_blank"}},[t._v("markdown")]),t._v(" (except inline HTML)")])}]}},321:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-header"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"form-title"}},[t._v("Form title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control input-lg",attrs:{type:"text",id:"form-title",name:"formTitle",placeholder:"Form Title",required:""},domProps:{value:t._s(t.title)},on:{input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"form-type"}},[t._v("Form type")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.formType,expression:"formType"}],staticClass:"form-control input-lg",attrs:{id:"form-type",name:"form_type"},on:{change:function(e){t.formType=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},[n("option",{attrs:{value:"resident"}},[t._v("Resident/Intern")]),t._v(" "),n("option",{attrs:{value:"self-resident"}},[t._v("Resident/Intern (self)")]),t._v(" "),n("option",{attrs:{value:"fellow"}},[t._v("Fellow")]),t._v(" "),n("option",{attrs:{value:"self-fellow"}},[t._v("Fellow (self)")]),t._v(" "),n("option",{attrs:{value:"faculty"}},[t._v("Faculty")]),t._v(" "),n("option",{attrs:{value:"staff"}},[t._v("Staff")])])])])])]),t._v(" "),n("div",{staticClass:"form-body"},[n("div",{staticClass:"form-items"},[t._l(t.items,function(e,i){return["instruction"===e.type?n("form-builder-instruction",t._b({on:{change:function(e){t.changeItem(i,e)},input:function(e){t.changeItem(i,e)},remove:function(e){t.removeItem(i)}}},"form-builder-instruction",e)):t._e(),t._v(" "),"question"===e.type?n("form-builder-question",t._b({attrs:{formType:t.formType,groupedMilestones:t.groupedMilestones,allCompetencies:t.competencies,customOptions:t.customOptions},on:{change:function(e){t.changeItem(i,e)},remove:function(e){t.removeItem(i)}}},"form-builder-question",e)):t._e()]})],2)]),t._v(" "),n("div",{attrs:{id:"form-footer"}},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",id:"add-instruction-block"},on:{click:t.addInstruction}},[t._v("Add instruction block")]),t._v(" "),n("button",{staticClass:"btn btn-info",attrs:{type:"button",id:"addQuestion"},on:{click:t.addQuestion}},[t._v("Add Question")]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:t.submitForm}},[t._v("Submit Form")])])])},staticRenderFns:[]}},340:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-question panel panel-default form-block",attrs:{id:t.questionId}},[n("div",{staticClass:"panel-heading form-horizontal"},[n("div",{staticClass:"panel-title form-group"},[n("div",{staticClass:"col-sm-12"},[n("label",{staticClass:"containing-label"},[t._v("\n\t\t\t\t\tQuestion Text\n\t\t\t\t\t"),n("div",{staticClass:"input-group"},[n("span",{staticClass:"question-id input-group-addon"},[t._v(t._s(t.questionId))]),t._v(" "),n("input",{staticClass:"form-input form-question-text form-control",attrs:{type:"text",placeholder:"Question Text",required:""},domProps:{value:t.text},on:{input:function(e){t.$emit("change",{text:e.target.value})}}})])])])]),t._v(" "),n("div",{staticClass:"hr-question"}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("label",{staticClass:"containing-label"},[t._v("\n\t\t\t\t\tQuestion Type\n\t\t\t\t\t"),n("select",{staticClass:"form-control form-question-type",attrs:{name:"questionType"},domProps:{value:t.questionType},on:{change:t.changeQuestionType}},[n("option",{attrs:{value:"radio"}},[t._v("Radio")]),t._v(" "),n("option",{attrs:{value:"text"}},[t._v("Text")]),t._v(" "),n("option",{attrs:{value:"radiononnumeric"}},[t._v("Radio (non-numeric)")]),t._v(" "),n("option",{attrs:{value:"number"}},[t._v("Number")]),t._v(" "),n("option",{attrs:{value:"checkbox"}},[t._v("Checkbox")])])])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("label",[t._v("Question Options")]),t._v(" "),n("div",{staticClass:"btn-group btn-group-justified"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"form-question-standard-options btn btn-info",attrs:{type:"button"},on:{click:t.setStandardOptions}},[t._v("\n\t\t\t\t\t\t\tStandard\n\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"form-question-milestone-level-options btn btn-info",attrs:{disabled:!t.milestones||1!==t.milestones.length,type:"button"},on:{click:t.setMilestoneOptions}},[t._v("\n\t\t\t\t\t\t\tMilestone\n\t\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"form-question-custom-options btn btn-info",attrs:{disabled:!t.customOptions||t.customOptions.length<1,type:"button"},on:{click:t.setCustomOptions}},[t._v("\n\t\t\t\t\t\t\tCustom\n\t\t\t\t\t\t")])])])]),t._v(" "),n("div",{staticClass:"col-md-1 labelless-button"},[n("button",{staticClass:"form-block-delete btn btn-danger del-btn",attrs:{type:"button"},on:{click:function(e){t.$emit("remove")}}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"col-md-1"},[n("label",{staticClass:"containing-label"},[t._v("\n\t\t\t\t\tRequired\n\t\t\t\t\t"),n("input",{staticClass:"form-control form-question-required",attrs:{type:"checkbox",value:"required"},domProps:{checked:t.required},on:{change:function(e){t.$emit("change",{required:e.target.checked})}}})])])]),t._v(" "),n("div",{staticClass:"hr-question"}),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[n("label",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowMilestonesAndCompetencies,expression:"shouldShowMilestonesAndCompetencies"}],staticClass:"containing-label"},[t._v("\n\t\t\t\t\tQuestion Milestones\n\t\t\t\t\t"),n("select-two",{staticClass:"form-control form-question-milestone",attrs:{value:t.milestones,options:t.groupedMilestones,multiple:!0},on:{input:function(e){t.$emit("change",{milestones:arguments[0]})}}})],1)]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("label",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowMilestonesAndCompetencies,expression:"shouldShowMilestonesAndCompetencies"}],staticClass:"containing-label"},[t._v("\n\t\t\t\t\tQuestion Competency\n\t\t\t\t\t"),n("select",{staticClass:"form-control form-question-competency",attrs:{placeholder:"Competency"},on:{change:function(e){t.$emit("change",{competencies:e.target.value})}}},[n("option",{attrs:{value:"",disabled:""}},[t._v("Select a competency")]),t._v(" "),t._l(t.allCompetencies,function(e){return n("option",{domProps:{value:e.id,selected:t.competencies==e.id}},[t._v(t._s(e.title))])})],2)])])])]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row form-options",staticStyle:{"margin-bottom":"5px"}},[["radio","radiononnumeric","checkbox"].includes(t.questionType)?t._l(t.optionsWithWorking,function(e,i){return n("form-builder-option",t._b({attrs:{type:t.questionType,"is-working-option":e===t.workingOption},on:{input:function(e){t.handleWorkingOptionInput(i,arguments[0])},change:function(e){t.handleOptionChange(i,arguments[0])}}},"form-builder-option",e))}):t._e(),t._v(" "),"text"===t.questionType?n("div",{staticClass:"col-sm-12"},[n("textarea",{staticClass:"form-control",attrs:{placeholder:"Text",disabled:""}})]):t._e(),t._v(" "),"number"===t.questionType?n("div",{staticClass:"col-md-8"},[n("input",{staticClass:"form-control",attrs:{type:"number",placeholder:"Number",disabled:""}})]):t._e()],2)])])},staticRenderFns:[]}},343:function(t,e,n){var i=n(187);"string"==typeof i&&(i=[[t.i,i,""]]);n(2)(i,{});i.locals&&(t.exports=i.locals)},350:function(t,e,n){var i=n(194);"string"==typeof i&&(i=[[t.i,i,""]]);n(2)(i,{});i.locals&&(t.exports=i.locals)},363:function(t,e,n){var i=n(207);"string"==typeof i&&(i=[[t.i,i,""]]);n(2)(i,{});i.locals&&(t.exports=i.locals)},366:function(t,e,n){"use strict";function i(t){return new s.a({el:t,data:function(){return{oldFormContents:{}}},render:function(t){return t(a.a,{props:{oldFormContents:this.oldFormContents}})}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n.n(o),r=n(71),a=n.n(r);e.createFormBuilder=i},5:function(t,e,n){var i,o;i=n(10);var s=n(14);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,t.exports=i},71:function(t,e,n){var i,o;n(350),i=n(89);var s=n(321);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,o._scopeId="data-v-27da62f6",t.exports=i},89:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(293),o=n.n(i),s=n(295),r=n.n(s),a=n(3);e.default={props:["oldFormContents"],created:function(){var t=this;n.i(a.l)().then(function(e){t.groupedMilestones=e}).catch(function(t){console.error(t)}),fetch("/competencies",{credentials:"same-origin"}).then(function(t){if(t.ok)return t.json();var e=new Error(t.statusText);throw e.response=t,e}).then(function(e){t.competencies=e}).catch(function(t){console.error(t)})},data:function(){return{title:"",formType:"resident",nextQuestionIdNum:1,groupedMilestones:[],competencies:[],items:[],customOptions:[]}},methods:{addInstruction:function(){this.items.push({type:"instruction",text:""})},addQuestion:function(){this.items.push({type:"question",text:"",questionIdNum:this.nextQuestionIdNum++,questionType:"radio",milestones:[],competencies:"",options:[],required:!1,weight:100})},changeItem:function(t,e){this.items.splice(t,1,Object.assign(this.items[t],e))},removeItem:function(t){var e=this.items[t];"question"===e.type&&e.questionIdNum===this.nextQuestionIdNum-1&&this.nextQuestionIdNum--,this.items.splice(t,1)},submitForm:function(t){t.preventDefault();var e=JSON.stringify({title:this.title,formType:this.formType,items:this.items.map(function(t){return t.questionId="q"+t.questionIdNum,t})});this.isFormValid()&&fetch("/forms",{method:"POST",headers:n.i(a.f)(),credentials:"same-origin",body:e}).then(function(t){if(t.ok)return t.text();throw new Error(t)}).then(function(t){if("success"!==t)throw new Error(t);window.location="/manage/forms"}).catch(function(t){n.i(a.n)("Error saving form"),console.error(t)})},isFormValid:function(){if(!this.title)return n.i(a.n)("Please enter a title for the form"),!1;if(!this.items||this.items.length<1)return n.i(a.n)("Please enter at least one question"),!1;var t=!0,e=!1,i=void 0;try{for(var o,s=this.items[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var r=o.value;if("question"===r.type){if(!r.text)return n.i(a.n)("Please enter question text for question "+r.questionIdNum),!1;if(["radio","radiononnumeric","checkbox"].indexOf(r.questionType)!==-1){if(!r.options||r.options.length<1)return n.i(a.n)("Please add at least one option for each multiple-choice question"),!1;var l=!0,u=!1,c=void 0;try{for(var d,p=r.options[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value;if(!f.value)return n.i(a.n)("An option cannot be submitted without a value. Please either assign a value or remove the option text and description for each option in question "+r.questionIdNum),!1}}catch(t){u=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}}}else{if("instruction"!==r.type)return n.i(a.n)("Unrecognized item type in form"),!1;if(!r.text)return n.i(a.n)("Please complete or remove all empty instruction blocks"),!1}}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}return!0}},watch:{oldFormContents:function(t){this.title=t.title,this.formType=t.formType,this.items=t.items.slice();var e=!0,n=!1,i=void 0;try{for(var o,s=this.items[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var r=o.value;r.questionIdNum&&r.questionIdNum>=this.nextQuestionIdNum&&(this.nextQuestionIdNum=r.questionIdNum+1)}}catch(t){n=!0,i=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw i}}}},components:{FormBuilderInstruction:o.a,FormBuilderQuestion:r.a}}},90:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["text"],data:function(){return{}},methods:{onInput:function(t){this.$emit("input",t.target.value)}}}},91:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["type","text","value","description","isWorkingOption"],computed:{displayType:function(){return"checkbox"===this.type?"checkbox":"radio"}},data:function(){return{isFocused:!1}},methods:{handleInputFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},handleInputBlur:function(t){this.isFocused=!1,this.$emit("blur",t)}}}},92:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(294),o=n.n(i),s=n(5),r=n.n(s),a=n(4),l=n(3);e.default={props:["formType","groupedMilestones","allCompetencies","questionIdNum","text","questionType","milestones","competencies","options","required","customOptions"],data:function(){return{workingOption:{text:"",value:"",description:""}}},computed:{questionId:function(){return"q"+this.questionIdNum},shouldShowMilestonesAndCompetencies:function(){return["radio","number"].indexOf(this.questionType)!==-1&&["resident","self-resident","fellow","self-fellow"].indexOf(this.formType)!==-1},optionsWithWorking:function(){if(this.options){var t=this.options.slice();return t.push(this.workingOption),t}},workingOptionIndex:function(){if(this.options)return this.options.length}},methods:{changeQuestionType:function(t){var e=t.target.value,n=[];this.$emit("change",{questionType:e,options:n})},handleWorkingOptionInput:function(t,e){t===this.workingOptionIndex&&(this.workingOption=Object.assign({},this.workingOption,e))},handleOptionChange:function(t,e){if(t===this.workingOptionIndex){var n=this.options.slice();n.push(Object.assign({},this.workingOption,e)),this.workingOption={text:"",value:"",description:""},this.$emit("change",{options:n})}else{var i=this.options.slice();i[t]=Object.assign(i[t],e),i[t].text||i[t].value||i[t].description||i.splice(t,1),this.$emit("change",{options:i})}},setStandardOptions:function(){var t=void 0;switch(this.formType){case"resident":case"self-resident":t=a.i.RESIDENT;break;case"fellow":case"self-fellow":t=a.i.FELLOW;break;case"faculty":"radiononnumeric"===this.questionType&&(t=a.i.FACULTY)}return t?void this.$emit("change",{options:t}):void n.i(l.n)("No standard options found for form type and question type")},setMilestoneOptions:function(){var t=this;return 1!==this.milestones.length?void n.i(l.n)("You can only use milestone options with a single selected milestone"):void fetch("/milestones/"+this.milestones[0],{credentials:"same-origin"}).then(function(t){if(t.ok)return t.json();throw new Error(t)}).then(function(e){if(!e||!e.levels||e.levels.length<1)return void n.i(l.n)("No milestone levels found");var i=[{value:0,text:"Not yet "+e.levels[0].name}],o=!0,s=!1,r=void 0;try{for(var a,u=e.levels[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value,d=2*parseInt(c.level_number,10);i.push({value:d-1,text:"",description:""}),i.push({value:d,text:c.name,description:c.description})}}catch(t){s=!0,r=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw r}}t.$emit("change",{options:i})}).catch(function(t){console.error(t)})},setCustomOptions:function(){return this.customOptions.length<1?void n.i(l.n)("No custom options set"):void this.$emit("change",{options:this.customOptions})}},components:{FormBuilderOption:o.a,SelectTwo:r.a}}}},[366])});
//# sourceMappingURL=vue-form-builder.js.map